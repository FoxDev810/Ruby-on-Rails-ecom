//= require OpenLayers
//= require OpenStreetMap

OpenLayers.Util.imageURLs = {
    "img/404.png": "<%= asset_path 'img/404.png' %>",
    "img/blank.gif": "<%= asset_path 'img/blank.gif' %>",
    "img/cloud-popup-relative.png": "<%= asset_path 'img/cloud-popup-relative.png' %>",
    "img/drag-rectangle-off.png": "<%= asset_path 'img/drag-rectangle-off.png' %>",
    "img/drag-rectangle-on.png": "<%= asset_path 'img/drag-rectangle-on.png' %>",
    "img/east-mini.png": "<%= asset_path 'img/east-mini.png' %>",
    "img/layer-switcher-maximize.png": "<%= asset_path 'img/layer-switcher-maximize.png' %>",
    "img/layer-switcher-minimize.png": "<%= asset_path 'img/layer-switcher-minimize.png' %>",
    "img/marker-blue.png": "<%= asset_path 'img/marker-blue.png' %>",
    "img/marker-gold.png": "<%= asset_path 'img/marker-gold.png' %>",
    "img/marker-green.png": "<%= asset_path 'img/marker-green.png' %>",
    "img/marker.png": "<%= asset_path 'img/marker.png' %>",
    "img/measuring-stick-off.png": "<%= asset_path 'img/measuring-stick-off.png' %>",
    "img/measuring-stick-on.png": "<%= asset_path 'img/measuring-stick-on.png' %>",
    "img/north-mini.png": "<%= asset_path 'img/north-mini.png' %>",
    "img/panning-hand-off.png": "<%= asset_path 'img/panning-hand-off.png' %>",
    "img/panning-hand-on.png": "<%= asset_path 'img/panning-hand-on.png' %>",
    "img/slider.png": "<%= asset_path 'img/slider.png' %>",
    "img/south-mini.png": "<%= asset_path 'img/south-mini.png' %>",
    "img/west-mini.png": "<%= asset_path 'img/west-mini.png' %>",
    "img/zoombar.png": "<%= asset_path 'img/zoombar.png' %>",
    "img/zoom-minus-mini.png": "<%= asset_path 'img/zoom-minus-mini.png' %>",
    "img/zoom-plus-mini.png": "<%= asset_path 'img/zoom-plus-mini.png' %>",
    "img/zoom-world-mini.png": "<%= asset_path 'img/zoom-world-mini.png' %>"
};

OpenLayers.Util.origCreateDiv = OpenLayers.Util.createDiv;

OpenLayers.Util.createDiv = function(id, px, sz, imgURL, position, 
                                     border, overflow, opacity) {
    imgURL = OpenLayers.Util.imageURLs[imgURL] || imgURL;

    return OpenLayers.Util.origCreateDiv(id, px, sz, imgURL, position, 
                                         border, overflow, opacity);
};

OpenLayers.Util.origCreateImage = OpenLayers.Util.createImage;

OpenLayers.Util.createImage = function(id, px, sz, imgURL, position, border,
                                       opacity, delayDisplay) {
    imgURL = OpenLayers.Util.imageURLs[imgURL] || imgURL;

    return OpenLayers.Util.origCreateImage(id, px, sz, imgURL, position,
                                           border, opacity, delayDisplay);
};

OpenLayers.Util.origModifyAlphaImageDiv = OpenLayers.Util.modifyAlphaImageDiv;

OpenLayers.Util.modifyAlphaImageDiv = function(div, id, px, sz, imgURL, 
                                               position, border, sizing, 
                                               opacity) {
    imgURL = OpenLayers.Util.imageURLs[imgURL] || imgURL;

    return OpenLayers.Util.origModifyAlphaImageDiv(div, id, px, sz, imgURL, 
                                                   position, border, sizing, 
                                                   opacity);
};
