<% content_for :heading do %>
  <% if @locale == "en" %>
    <!-- Maybe ease foreigners back to their native page -->
    <% if t(".legal_babble", :locale => I18n.locale) != t(".legal_babble", :locale => :en) %>
      <h1><%= t ".native.title" %></h1>
      <p>
        <%= t ".native.html",
              :native_link => link_to(t(".native.native_link"),
                                      :controller => "site",
                                      :action => "copyright",
                                      :copyright_locale => nil),
              :mapping_link => link_to(t(".native.mapping_link"),
                                       :controller => "site",
                                       :action => "index") %>
      </p>
      <hr />
    <% end %>
  <% else %>
    <!-- Maybe note that this page has been translated -->
    <% if t(".legal_babble", :locale => @locale) != t(".legal_babble", :locale => :en) %>
      <h1><%= t ".foreign.title" %></h1>
      <p>
        <%= t ".foreign.html",
              :english_original_link => link_to(t(".foreign.english_link"),
                                                :controller => "site",
                                                :action => "copyright",
                                                :copyright_locale => "en") %>
      </p>
      <hr />
    <% end %>
  <% end %>

  <% I18n.with_locale @locale do %>
    <%= tag.h1 :lang => @locale, :dir => t("html.dir") do %>
      <%= t ".legal_babble.title_html" %>
    <% end %>
  <% end %>
<% end %>

<% I18n.with_locale @locale do %>
  <%= tag.div :lang => @locale, :dir => t("html.dir") do %>
    <p>
      <%= t ".legal_babble.introduction_1_html",
            :registered_trademark_link => tag.sup(link_to(t(".legal_babble.introduction_1_registered_trademark_html"),
                                                          :anchor => "trademarks")),
            :open_data => tag.i(t(".legal_babble.introduction_1_open_data")),
            :odc_odbl_link => link_to(t(".legal_babble.introduction_1_odc_odbl"),
                                      t(".legal_babble.introduction_1_odc_odbl_url")),
            :osm_foundation_link => link_to(t(".legal_babble.introduction_1_osm_foundation"),
                                            t(".legal_babble.introduction_1_osm_foundation_url")) %>
    </p>
    <p>
      <%= t ".legal_babble.introduction_2_html",
            :legal_code_link => link_to(t(".legal_babble.introduction_2_legal_code"),
                                        t(".legal_babble.introduction_2_legal_code_url")) %>
    </p>
    <p>
      <%= t ".legal_babble.introduction_3_html",
            :creative_commons_link => link_to(t(".legal_babble.introduction_3_creative_commons"),
                                              t(".legal_babble.introduction_3_creative_commons_url")) %>
    </p>

    <h3><%= t ".legal_babble.credit_title_html" %></h3>
    <p><%= t ".legal_babble.credit_1_html" %></p>
    <ul>
      <li><%= t ".legal_babble.credit_2_1" %></li>
      <li><%= t ".legal_babble.credit_2_2" %></li>
    </ul>
    <p>
      <%= t ".legal_babble.credit_3_html",
            :attribution_guidelines_link => link_to(t(".legal_babble.credit_3_attribution_guidelines"),
                                                    t(".legal_babble.credit_3_attribution_guidelines_url")) %>
    </p>
    <p>
      <%= t ".legal_babble.credit_4_1_html",
            :this_copyright_page_link => link_to(t(".legal_babble.credit_4_1_this_copyright_page"),
                                                 copyright_path) %>
    </p>
    <p><%= image_tag("attribution_example.png",
                     :alt => t(".legal_babble.attribution_example.alt"),
                     :border => 0,
                     :title => t(".legal_babble.attribution_example.title")) %></p>

    <h3><%= t ".legal_babble.more_title_html" %></h3>
    <p>
      <%= t ".legal_babble.more_1_1_html",
            :osmf_licence_page_link => link_to(t(".legal_babble.more_1_1_osmf_licence_page"),
                                               t(".legal_babble.more_1_1_osmf_licence_page_url")) %>
    </p>
    <p>
      <%= t ".legal_babble.more_2_1_html",
            :api_usage_policy_link => link_to(t(".legal_babble.more_2_1_api_usage_policy"),
                                              t(".legal_babble.more_2_1_api_usage_policy_url")),
            :tile_usage_policy_link => link_to(t(".legal_babble.more_2_1_tile_usage_policy"),
                                               t(".legal_babble.more_2_1_tile_usage_policy_url")),
            :nominatim_usage_policy_link => link_to(t(".legal_babble.more_2_1_nominatim_usage_policy"),
                                                    t(".legal_babble.more_2_1_nominatim_usage_policy_url")) %>
    </p>

    <h3><%= t ".legal_babble.contributors_title_html" %></h3>
    <p><%= t ".legal_babble.contributors_intro_html" %></p>
    <ul id="contributors">
      <li><%= t ".legal_babble.contributors_at_html" %></li>
      <li><%= t ".legal_babble.contributors_au_html" %></li>
      <li><%= t ".legal_babble.contributors_ca_html" %></li>
      <li><%= t ".legal_babble.contributors_fi_html" %></li>
      <li><%= t ".legal_babble.contributors_fr_html" %></li>
      <li><%= t ".legal_babble.contributors_nl_html" %></li>
      <li><%= t ".legal_babble.contributors_nz_html" %></li>
      <li><%= t ".legal_babble.contributors_si_html" %></li>
      <li><%= t ".legal_babble.contributors_es_html" %></li>
      <li><%= t ".legal_babble.contributors_za_html" %></li>
      <li><%= t ".legal_babble.contributors_gb_html" %></li>
    </ul>
    <p>
      <%= t ".legal_babble.contributors_2_html",
            :contributors_page_link => link_to(t(".legal_babble.contributors_2_contributors_page"),
                                               t(".legal_babble.contributors_2_contributors_page_url")) %>
    </p>
    <p><%= t ".legal_babble.contributors_footer_2_html" %></p>

    <h3><%= t ".legal_babble.infringement_title_html" %></h3>
    <p><%= t ".legal_babble.infringement_1_html" %></p>
    <p>
      <%= t ".legal_babble.infringement_2_1_html",
            :takedown_procedure_link => link_to(t(".legal_babble.infringement_2_1_takedown_procedure"),
                                                t(".legal_babble.infringement_2_1_takedown_procedure_url")),
            :online_filing_page_link => link_to(t(".legal_babble.infringement_2_1_online_filing_page"),
                                                t(".legal_babble.infringement_2_1_online_filing_page_url")) %>
    </p>

    <h3 id="trademarks">
      <%= t ".legal_babble.trademarks_title" %>
    </h3>
    <p>
      <%= t ".legal_babble.trademarks_1_1_html",
            :trademark_policy_link => link_to(t(".legal_babble.trademarks_1_1_trademark_policy"),
                                              t(".legal_babble.trademarks_1_1_trademark_policy_url")) %>
    </p>
  <% end %>
<% end %>
